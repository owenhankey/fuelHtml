<!DOCTYPE html>
<html>

<head>
  <style>
    body {
      background-color: #f1f1f1;
      font-family: 'Arial', sans-serif;
    }

    .container {
      max-width: 500px;
      margin: 0 auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .form-group {
      margin-bottom: 20px;
    }

    .checkbox-group {
      display: flex;
      align-items: center;
    }

    .checkbox-group label {
      margin-left: 10px;
    }

    .success {
      color: green;
    }

    .error {
      color: red;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Fuel Form</h1>
    <form id="fuelForm">
      <div class="form-group">
        <label for="name">Name:</label>
        <select id="name" required>
          <option value="" disabled selected>Select Name</option>
          <option value="Owen">Owen</option>
          <option value="Anthea">Anthea</option>
          <option value="Athol">Athol</option>
          <option value="Norman">Norman</option>
        </select>
      </div>
      <div class="form-group">
        <label for="kms">KMs:</label>
        <input type="number" id="kms" step="0.01" min="0" required>
      </div>
      <div class="form-group">
        <label for="fuelEconomy">Fuel Economy:</label>
        <input type="number" id="fuelEconomy" step="0.01" min="0" required>
        <span>(l/100km)</span>
      </div>
      <div class="form-group">
        <label for="totalKms">Total KMs:</label>
        <input type="number" id="totalKms" step="0.01" min="0" required>
      </div>
      <div class="form-group">
        <label>Total Paid:</label>
        <input type="number" id="totalPaid" step="0.01" min="0" required>
      </div>
      <div class="form-group">
        <label for="cost">Cost:</label>
        <input type="number" id="cost" step="0.01" min="0">
        <span>(â‚¬/litre)</span>
      </div>
      <div class="form-group">
        <label>Are you sure you want to submit the form?</label>
        <div class="checkbox-group">
          <input type="checkbox" id="paid">
          <label for="paid">Paid</label>
        </div>
      </div>
      <button type="submit">Submit</button>
    </form>
    <div id="message"></div>
  </div>

  <script>
    const form = document.getElementById('fuelForm');
    const nameElement = document.getElementById('name');
    const kmsElement = document.getElementById('kms');
    const fuelEconomyElement = document.getElementById('fuelEconomy');
    const totalKmsElement = document.getElementById('totalKms');
    const totalPaidElement = document.getElementById('totalPaid');
    const costElement = document.getElementById('cost');
    const paidElement = document.getElementById('paid');
    const messageElement = document.getElementById('message');

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      if (paidElement.checked && (!totalPaidElement.value || !costElement.value)) {
        showMessage('Please enter Total Paid and Cost.', false);
      } else {
        const data = {
          name: nameElement.value,
          kms: parseFloat(kmsElement.value),
          fuelEconomy: parseFloat(fuelEconomyElement.value),
          totalKms: parseFloat(totalKmsElement.value),
          totalPaid: parseFloat(totalPaidElement.value),
          cost: parseFloat(costElement.value),
          paid: paidElement.checked
        };

        const requestData = {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        };

        const url = data.paid ? 'https://vyaky9w2kl.execute-api.us-east-1.amazonaws.com/fuelPaid' : 'https://vyaky9w2kl.execute-api.us-east-1.amazonaws.com/fuelEconomy';

        fetch(url, requestData)
          .then(response => response.json())
          .then(responseData => {
            showMessage(`Form submitted successfully. Response: ${JSON.stringify(responseData)}`, true);
          })
          .catch(error => {
            showMessage(`An error occurred. ${error}`, false);
          });
      }
    });

    function showMessage(message, isSuccess) {
      messageElement.textContent = message;
      messageElement.className = isSuccess ? 'success' : 'error';
    }

    paidElement.addEventListener('change', function () {
      const isChecked = this.checked;
      totalPaidElement.disabled = !isChecked;
      costElement.disabled = !isChecked;
    });
  </script>
</body>

</html>
