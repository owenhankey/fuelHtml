<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Pacifico&display=swap">
  <style>
    /* CSS styles here */
  </style>
</head>

<body>
  <div class="container">
    <h2>Fuel Payment Form</h2>
    <form id="fuelForm">
      <div class="form-group">
        <label for="name">Name:</label>
        <select id="name" required>
          <option value="">Select Name</option>
          <option value="Owen">Owen</option>
          <option value="Anthea">Anthea</option>
          <option value="Athol">Athol</option>
          <option value="Norman">Norman</option>
        </select>
      </div>
      <div class="form-group">
        <label for="kms">KMs:</label>
        <input type="number" id="kms" required>
      </div>
      <div class="form-group">
        <label for="fuelEconomy">Fuel Economy:</label>
        <input type="number" id="fuelEconomy" required>
      </div>
      <div class="form-group">
        <label for="totalKms">Total KMs:</label>
        <input type="number" id="totalKms" required>
      </div>
      <div class="form-group">
        <label for="paid">Paid:</label>
        <input type="checkbox" id="paid">
      </div>
      <div class="form-group">
        <label for="totalPaid">Total Paid:</label>
        <input type="number" id="totalPaid" disabled>
      </div>
      <div class="form-group">
        <label for="cost">Cost:</label>
        <input type="number" id="cost" disabled>
      </div>
      <button type="submit">Submit</button>
    </form>
    <div id="message"></div>
  </div>

  <script>
    // JavaScript code here

    const form = document.getElementById('fuelForm');
    const paidCheckbox = document.getElementById('paid');
    const totalPaidInput = document.getElementById('totalPaid');
    const costInput = document.getElementById('cost');
    const messageElement = document.getElementById('message');

    paidCheckbox.addEventListener('change', function () {
      totalPaidInput.disabled = !paidCheckbox.checked;
      costInput.disabled = !paidCheckbox.checked;
    });

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const name = document.getElementById('name').value;
      const kms = document.getElementById('kms').value;
      const fuelEconomy = document.getElementById('fuelEconomy').value;
      const totalKms = document.getElementById('totalKms').value;
      const paid = document.getElementById('paid').checked;
      const totalPaid = document.getElementById('totalPaid').value;
      const cost = document.getElementById('cost').value;

      const requestData = {
        name,
        kms: paid ? '' : kms,
        fuelEconomy: paid ? '' : fuelEconomy,
        totalKms: paid ? '' : totalKms,
        paid,
        totalPaid: paid ? totalPaid : '',
        cost: paid ? cost : ''
      };

      const url = paid
        ? 'https://vyaky9w2kl.execute-api.us-east-1.amazonaws.com/fulePaid'
        : 'https://vyaky9w2kl.execute-api.us-east-1.amazonaws.com/fuelEconomy';

      const xhr = new XMLHttpRequest();
      xhr.open(paid ? 'POST' : 'GET', url, true);
      xhr.setRequestHeader('Content-Type', 'application/json');

      xhr.onload = function () {
        if (xhr.status === 200) {
          messageElement.textContent = 'Data submitted successfully.';
          messageElement.classList.remove('error');
          messageElement.classList.add('success');
        } else {
          messageElement.textContent = 'An error occurred. Please try again later.';
          messageElement.classList.remove('success');
          messageElement.classList.add('error');
        }
      };

      xhr.onerror = function () {
        messageElement.textContent = 'An error occurred. Please try again later.';
        messageElement.classList.remove('success');
        messageElement.classList.add('error');
      };

      xhr.send(JSON.stringify(requestData));
    });
  </script>
</body>

</html>
